---
title: Analyzer
description: Learn about the Analyzer component that provides code analysis features, complexity metrics, and issue detection
---

# Analyzer

The Analyzer is a core component of the Solo Build system that analyzes your code to provide insights about complexity, dependencies, and potential issues.

## Overview

The Analyzer takes the Abstract Syntax Tree (AST) generated by the Parser and performs various types of analysis on it. This analysis helps you understand your codebase better and identify areas for improvement.

## Features

### Code Complexity Analysis

The Analyzer calculates various complexity metrics for your code:

- **Cyclomatic Complexity**: Measures the number of linearly independent paths through your code
- **Cognitive Complexity**: Measures how difficult your code is to understand
- **Maintainability Index**: Provides an overall score for how maintainable your code is

### Dependency Analysis

The Analyzer identifies and tracks dependencies between files and modules:

- **Import/Export Tracking**: Maps all imports and exports in your codebase
- **Dependency Graph**: Generates a visual representation of dependencies
- **Circular Dependency Detection**: Identifies circular dependencies that could cause issues

### Issue Detection

The Analyzer can detect various types of issues in your code:

- **Unused Variables and Imports**: Identifies code that isn't being used
- **Duplicate Code**: Finds repeated code patterns that could be refactored
- **Type Errors**: When using TypeScript, identifies potential type issues
- **Security Vulnerabilities**: Detects common security issues in your code

## Usage

### Basic Usage

To analyze your code without building it:

```bash
npx solo-build analyze
```

This will analyze all files in your source directory and generate reports based on your configuration.

### Configuration

You can configure the Analyzer in your `solo-build.config.js` file:

```javascript
module.exports = {
  // ... other configuration options
  analyze: {
    complexity: true,
    dependencies: true,
    duplication: true,
    security: true,
    thresholds: {
      complexity: {
        cyclomatic: 10,
        cognitive: 15
      },
      duplication: {
        minLines: 5,
        minTokens: 70
      }
    }
  },
  reports: {
    outputDir: 'reports',
    formats: ['html', 'json', 'markdown']
  }
};
```

### Programmatic Usage

You can also use the Analyzer programmatically in your own code:

```typescript
import { Analyzer } from '@solo-build/analyzer';

// Create an analyzer instance
const analyzer = new Analyzer({
  complexity: true,
  dependencies: true
});

// Analyze an AST
const result = analyzer.analyze(ast, {
  filePath: 'src/index.ts',
  sourceCode: sourceCode
});

// Access analysis results
console.log(result.complexity.cyclomatic);
console.log(result.dependencies);
console.log(result.issues);
```

## API Reference

### AnalysisResult Interface

The Analyzer returns an `AnalysisResult` object with the following structure:

```typescript
interface AnalysisResult {
  filePath: string;
  complexity: {
    cyclomatic: number;
    cognitive: number;
    maintainability: number;
    lines: number;
    comments: number;
  };
  dependencies: {
    imports: Import[];
    exports: Export[];
  };
  issues: Record<string, Issue[]>;
}

interface Issue {
  type: string;
  message: string;
  severity: 'error' | 'warning' | 'info';
  line: number;
  column: number;
  endLine?: number;
  endColumn?: number;
  fix?: IssueFix;
}

interface IssueFix {
  message: string;
  edits: TextEdit[];
}
```

## Integration with Other Components

The Analyzer works closely with other Solo Build components:

- **Parser**: Receives ASTs from the Parser to analyze
- **Transformer**: Provides analysis results to help guide transformations
- **Reporter**: Sends analysis data to the Reporter for generating reports
- **AI Engine**: Feeds analysis data to the AI engine for optimization suggestions

## Examples

### Analyzing a Specific File

```bash
npx solo-build analyze --file src/components/Button.tsx
```

### Generating a Dependency Graph

```bash
npx solo-build analyze --dependencies-only --format svg --output deps-graph.svg
```

### Finding Unused Code

```bash
npx solo-build analyze --unused-only
```

## Best Practices

1. **Set Appropriate Thresholds**: Configure complexity thresholds that make sense for your project
2. **Regular Analysis**: Run analysis regularly to catch issues early
3. **Integrate with CI/CD**: Add analysis to your continuous integration pipeline
4. **Focus on Hotspots**: Pay special attention to files with high complexity or many issues
5. **Incremental Improvements**: Use analysis results to guide incremental code improvements
